# 服务器部署指南

## 环境要求
- Linux 系统
- g++ 编译器
- PHP 7.0+ 环境
- curl 工具


## 一、项目简介
本项目是一个基于 Linux 系统的时间服务器聊天系统，前端使用 HTML 和 JavaScript 构建聊天界面，后端采用 C++ 编写 HTTP 服务器处理请求，并调用讯飞星火大模型 API 进行消息回复。中间通过 PHP 脚本作为桥梁，实现前后端的数据交互。通过内网穿透，可实现远程访问。


## 1.获取人工智能的api
### 我使用的是讯飞星火的api    https://xinghuo.xfyun.cn/sparkapi
### 里面有一个lite  api是无限量调用的  但是ai比较傻 可做测试学习用
### 同理 有条件的可接入deepseek的api或者chatgpt 

#### 获取到api后  打开 spark_api.h 文件   第33行 更改为自己的api password



## 2. C++ 服务器部署

### 编译程序
```bash
g++ time_server.cpp -o server -lcurl
```

### 启动服务器
./server

## 3. PHP 环境配置

### 安装依赖
```bash
sudo apt update
sudo apt install php-curl
```

这里要用ifconfig 查看当前的linux是什么ip
执行ifconfig  把linux当前的ip复制一下 执行这个

启动php服务器 (替换实际IP)
```bash
php -S 192.168.1.175:8080
```






## 4.启动内网穿透
### 操作步骤
#### 关注「敲代码斯基」公众号

#### 发送1 获取穿透命令模板

#### 根据公众号的提示 替换IP和端口参数（要替换的是linux的ip 端口参数为php服务器的端口 也就是8080）

更改完成后即可启动内网穿透 
（这一步的作用是 可以让不在同一个局域网的环境下访问这个ip地址和端口号 这样不用购买域名即可远程访问）
我是使用这个启动的  (每个人获取的启动命令不同)
根据自己的启动命令 去在linux终端执行

这是我用的启动命令 每个人用的不一样  大家要去自己关注 用自己的启动
```bash
curl https://v2.i996.me|bash -s tmhe*****
```


#### 启动完毕后 可看到域名  大家可以根据公众号给的域名 或者启动完后终端的域名 浏览器访问即可





## 使用方法
### 1. 访问聊天界面
#### 在浏览器中输入内网穿透后的地址（或本地地址 http://<your_ip_address>:8080），打开聊天界面。
### 2. 发送消息
#### 在输入框中输入消息，点击 “发送” 按钮，消息将发送到服务器，并调用讯飞星火大模型获取回复，回复将显示在聊天框中。


## 欢迎对本项目进行贡献，你可以提交 issue 或 pull request